{"version":3,"sources":["app.js","homeCtrl.js","player.js","topbar.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","directive","restrict","link","scope","elem","attrs","mediaPlayer","document","getElementById","console","log","controls","seekBar","playbtn","mutebtn","volControl","curVol","value","fullscreen","seconds","convert","Number","hours","Math","floor","minutes","seekBarActive","addEventListener","pause","$","removeClass","addClass","time","duration","currentTime","volume","ended","$apply","round","keyup","e","keyCode","togglePlayPause","paused","play","restartPlayer","toggleMute","muted","goFullscreen","id","element","mozRequestFullScreen","webkitRequestFullScreen","css","getElementsByTagName","webkitExitFullScreen","updateSecs","Restrict"],"mappings":"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","file":"bundle.js","sourcesContent":["let app = angular.module('newtube', ['ui.router'])\n    .config(function($stateProvider, $urlRouterProvider) {\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: '../views/home.html',\n                controller: 'homeCtrl',\n            })\n            .state('video', {\n                url: '/video',\n                templateUrl: '../views/video.html',\n                controller: 'videoCtrl',\n            })\n        $urlRouterProvider.otherwise('/')\n    });","app.controller('homeCtrl', function($scope) {\n\n});","app.directive('player', function() {\n    return {\n        restrict: 'E',\n        templateUrl: '../directives/player.html',\n        link: function(scope, elem, attrs) {\n            var mediaPlayer;\n            mediaPlayer = document.getElementById('video');\n            console.log(mediaPlayer);\n            mediaPlayer.controls = false;\n            var seekBar = document.getElementById(\"seek-bar\");\n            var playbtn = document.getElementById('play-pause-button');\n            var mutebtn = document.getElementById('mute-button');\n            var volControl = document.getElementById('vol-control');\n            var curVol = volControl.value;\n            var fullscreen = false;\n            scope.seconds = \"0:00\";\n\n            var convert = function(seconds) {\n                seconds = Number(seconds);\n                var hours = Math.floor(seconds / 3600);\n                var minutes = Math.floor(seconds % 3600 / 60);\n                var seconds = Math.floor(seconds % 3600 % 60);\n                return ((hours > 0 ? hours + \":\" + (minutes < 10 ? \"0\" : \"\") : \"\") + minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds);\n            }\n\n            var seekBarActive = false;\n            seekBar.addEventListener(\"mousedown\", function() {\n                seekBarActive = true;\n                mediaPlayer.pause();\n            });\n            seekBar.addEventListener(\"mouseup\", function() {\n                seekBarActive = false;\n                $(\"#play-pause-button\").removeClass('fa-pause');\n                $(\"#play-pause-button\").addClass('fa-play');\n                mediaPlayer.pause();\n            });\n\n            seekBar.addEventListener(\"mousemove\", function() {\n                if (seekBarActive == true) {\n                    // Calculate the new time\n                    var time = mediaPlayer.duration * (seekBar.value / 100);\n                    // Update the video time\n                    mediaPlayer.currentTime = time;\n                }\n            });\n\n            volControl.addEventListener(\"mouseup\", function() {\n                mediaPlayer.volume = volControl.value / 100;\n                if (volControl.value > 1) {\n                    $(\"#mute-button\").removeClass('fa-volume-off');\n                    $(\"#mute-button\").addClass('fa-volume-up');\n                } else {\n                    $(\"#mute-button\").removeClass('fa-volume-up');\n                    $(\"#mute-button\").addClass('fa-volume-off');\n                }\n            })\n\n            mediaPlayer.addEventListener(\"timeupdate\", function() {\n                if (mediaPlayer.ended) {\n                    $(\"#play-pause-button\").removeClass('fa-pause');\n                    $(\"#play-pause-button\").addClass('fa-refresh');\n                }\n                // Calculate the slider value\n                var value = (100 / mediaPlayer.duration) * mediaPlayer.currentTime;\n                // Update the slider value\n                if (!seekBarActive) {\n                    seekBar.value = value;\n                }\n                scope.$apply(function() {\n                    scope.seconds = 0;\n                    scope.seconds = Math.round(mediaPlayer.currentTime);\n                    scope.seconds = convert(scope.seconds);\n                    console.log(scope.seconds)\n                })\n            });\n\n            $('body').keyup(function(e) {\n                if (e.keyCode == 32) { //on pressing space\n                    scope.togglePlayPause();\n                }\n\n                if (e.keyCode == 37) { //on pressing left arrow\n                    mediaPlayer.currentTime = mediaPlayer.currentTime - 1;\n                }\n\n                if (e.keyCode == 39) { //on pressing right arrow\n                    mediaPlayer.currentTime = mediaPlayer.currentTime + 1;\n                }\n            })\n\n            $('#player').keyup(function(e) {\n                if (e.keyCode == 32) {\n                    scope.togglePlayPause();\n                }\n            })\n\n            scope.togglePlayPause = function() {\n                if (mediaPlayer.paused || mediaPlayer.ended) {\n                    $(\"#play-pause-button\").removeClass('fa-play');\n                    $(\"#play-pause-button\").addClass('fa-pause');\n                    mediaPlayer.play();\n                } else {\n                    $(\"#play-pause-button\").removeClass('fa-pause');\n                    $(\"#play-pause-button\").addClass('fa-play');\n                    mediaPlayer.pause();\n                }\n            }\n            scope.restartPlayer = function() {\n                mediaPlayer.pause();\n                mediaPlayer.currentTime = 0;\n            };\n            scope.toggleMute = function() {\n                if (mediaPlayer.muted) {\n                    $(\"#mute-button\").removeClass('fa-volume-off');\n                    $(\"#mute-button\").addClass('fa-volume-up');\n                    mediaPlayer.muted = false;\n                    volControl.value = curVol;\n                } else {\n                    $(\"#mute-button\").removeClass('fa-volume-up');\n                    $(\"#mute-button\").addClass('fa-volume-off');\n                    curVol = volControl.value;\n                    volControl.value = 0;\n                    mediaPlayer.muted = true;\n                }\n            }\n            scope.goFullscreen = function(id) {\n                var element = document.getElementById(id);\n                if (!fullscreen) {\n                    if (element.mozRequestFullScreen) {\n                        element.mozRequestFullScreen();\n                        fullscreen = true;\n                    } else if (element.webkitRequestFullScreen) {\n                        element.webkitRequestFullScreen();\n                        fullscreen = true;\n                    }\n                    $(\"#play-pause-button\").css('font-size', '48px');\n                    $(\"#play-pause-button\").css('bottom', '0px');\n                    $(\"#fullscreen\").css('font-size', '48px');\n                    $(\"#fullscreen\").css('bottom', '0px');\n                    $(\"#play-pause-button\").css('width', '50px');\n                    $(\"#play-pause-button\").css('height', '50px');\n                    $(\"#fullscreen\").css('width', '50px');\n                    $(\"#fullscreen\").css('height', '50px');\n\n                } else {\n                    document.getElementsByTagName('video')[0].webkitExitFullScreen();\n                    fullscreen = false;\n                    $(\"#play-pause-button\").css('font-size', '24px');\n                    $(\"#play-pause-button\").css('bottom', '0px');\n                    $(\"#fullscreen\").css('font-size', '24px');\n                    $(\"#fullscreen\").css('bottom', '0px');\n                    $(\"#play-pause-button\").css('width', '25px');\n                    $(\"#play-pause-button\").css('height', '25px');\n                    $(\"#fullscreen\").css('width', '25px');\n                    $(\"#fullscreen\").css('height', '25px');\n                }\n\n            }\n\n            scope.updateSecs = function() {\n                scope.seconds = mediaPlayer.currentTime;\n            }\n        }\n    }\n})","app.directive('topbar', function() {\n    return {\n        Restrict: 'E',\n        templateUrl: '../directives/topbar.html'\n    }\n})"]}