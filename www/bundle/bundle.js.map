{"version":3,"sources":["app.js","dashVidCtrl.js","dashboardCtrl.js","homeCtrl.js","player.js","searchCtrl.js","topbar.js","uploadCtrl.js","videoCtrl.js","videoSrvc.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","$scope","$stateParams","$state","videoSrvc","vidid","id","getUser","then","user","data","username","charAt","toUpperCase","slice","getVideo","console","log","video","userid","curVideo","typedTitle","title","typedDescr","descr","changeTitle","changeDescr","deleteVideo","confirmed","window","confirm","go","getVidsByUser","videos","getNewest","newestVids","directive","restrict","link","scope","elem","attrs","mediaPlayer","document","getElementById","controls","seekBar","playbtn","mutebtn","volControl","curVol","value","fullscreen","seconds","convert","Number","hours","Math","floor","minutes","seekBarActive","addEventListener","pause","$","removeClass","addClass","time","duration","currentTime","volume","ended","$apply","round","keyup","e","keyCode","focus","togglePlayPause","paused","play","restartPlayer","toggleMute","muted","goFullscreen","element","mozRequestFullScreen","webkitRequestFullScreen","css","getElementsByTagName","webkitExitFullScreen","updateSecs","getResults","getVideoByQuery","searchQuery","results","resultCount","length","Restrict","$location","getRecent","curFile","updateVideo","newTitle","newDescr","postFile","files","fd","FormData","append","showDetails","getUserById","tempuser","getComments","comments","reverse","i","userpic","subComment","comment","sendComment","curComment","service","$http","method","post","withCredentials","headers","undefined","transformRequest","identity"],"mappings":"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","file":"bundle.js","sourcesContent":["let app = angular.module('newtube', ['ui.router'])\n    .config(function($stateProvider, $urlRouterProvider) {\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: '../views/home.html',\n                controller: 'homeCtrl',\n            })\n            .state('video', {\n                url: '/video/:id',\n                // params: {\n                //     param1: \"id\"\n                // },\n                templateUrl: '../views/video.html',\n                controller: 'videoCtrl',\n            })\n            .state('search', {\n                url: '/search?searchQuery',\n                templateUrl: '../views/search.html',\n                controller: 'searchCtrl',\n            })\n            .state('dashboard', {\n                url: '/dashboard',\n                templateUrl: '../views/dashboard.html',\n                controller: 'dashboardCtrl',\n            })\n            .state('dashvideos', {\n                url: '/dashboard/video/:id',\n                templateUrl: '../views/dashvideos.html',\n                controller: 'dashVidCtrl',\n            })\n            .state('upload', {\n                url: '/dashboard/upload',\n                templateUrl: '../views/upload.html',\n                controller: 'uploadCtrl',\n            })\n\n        $urlRouterProvider.otherwise('/')\n    });","app.controller('dashVidCtrl', function($scope, $stateParams, $state, videoSrvc) {\n    $scope.vidid = $stateParams.id;\n    $scope.getUser = function() {\n        videoSrvc.getUser().then(function(user) {\n            if (user) {\n                $scope.user = user.data;\n                $scope.user.username = $scope.user.username.charAt(0).toUpperCase() + $scope.user.username.slice(1);\n                $scope.getVideo($scope.vidid);\n            }\n        })\n    }\n    $scope.getVideo = function(vidid) {\n        console.log(\"vidid:\" + vidid)\n        if ($scope.user) {\n            videoSrvc.getVideo(vidid).then(function(video) {\n                if ($scope.user.userid === video.data[0].userid) {\n                    console.log(video);\n                    $scope.curVideo = video.data[0];\n                    // $scope.curVideo.vidlink = $scope.curVideo.vidlink.replace(\"../www/\", \"../\")\n                    $scope.typedTitle = $scope.curVideo.title;\n                    $scope.typedDescr = $scope.curVideo.descr;\n                    console.log($scope.curVideo)\n                } else {\n                    console.log(\"stop haxor!\");\n                }\n            })\n        } else {\n            console.log('halt da hax0r');\n        }\n    }\n\n    $scope.changeTitle = function(title) {\n        if ($scope.user) {\n            if ($scope.curVideo) {\n                if (title) {\n                    videoSrvc.changeTitle($scope.vidid, title).then(function(video) {\n                        $scope.curVideo = video.data[0];\n                        console.log(video);\n                        $scope.typedTitle = $scope.curVideo.title;\n                        $scope.typedDescr = $scope.curVideo.descr;\n                    })\n                }\n            }\n        }\n    }\n\n    $scope.changeDescr = function(descr) {\n        if ($scope.user) {\n            if ($scope.curVideo) {\n                if (descr) {\n                    videoSrvc.changeDescr($scope.vidid, descr).then(function(video) {\n                        $scope.curVideo = video.data[0];\n                        console.log(video);\n                        $scope.typedTitle = $scope.curVideo.title;\n                        $scope.typedDescr = $scope.curVideo.descr;\n                    })\n                }\n            }\n        }\n    }\n\n    $scope.deleteVideo = function() {\n        if ($scope.user) {\n            if ($scope.curVideo) {\n                var confirmed = window.confirm(\"You are about to DELETE this video, are you sure?\");\n                if (confirmed) {\n                    videoSrvc.deleteVideo($scope.vidid).then(function() {\n                        $state.go('dashboard');\n                    })\n                }\n            }\n        }\n    }\n\n    $scope.getUser();\n});","app.controller('dashboardCtrl', function($scope, $stateParams, videoSrvc) {\n    $scope.vidid = $stateParams.id;\n    $scope.getUser = function() {\n        videoSrvc.getUser().then(function(user) {\n            $scope.user = user.data;\n            $scope.user.username = $scope.user.username.charAt(0).toUpperCase() + $scope.user.username.slice(1);\n            $scope.getVidsByUser($scope.user);\n        })\n    }\n    $scope.getVidsByUser = function(user) {\n        videoSrvc.getVidsByUser(user.userid).then(function(videos) {\n            $scope.videos = videos.data;\n        })\n    }\n    $scope.getUser();\n});","app.controller('homeCtrl', function($scope, $stateParams, videoSrvc) {\n    $scope.getNewest = function() {\n        videoSrvc.getNewest().then(function(videos) {\n            $scope.newestVids = videos.data;\n            console.log($scope.newestVids);\n        })\n    }\n\n    $scope.getUser = function() {\n        videoSrvc.getUser().then(function(user) {\n            if (user) {\n                $scope.user = user.data;\n                $scope.user.username = $scope.user.username.charAt(0).toUpperCase() + $scope.user.username.slice(1);\n                console.log($scope.user)\n            }\n        })\n    }\n\n    $scope.getUser();\n    $scope.getNewest();\n});","app.directive('player', function() {\n    return {\n        restrict: 'E',\n        templateUrl: '../directives/player.html',\n        link: function(scope, elem, attrs) {\n            var mediaPlayer;\n            mediaPlayer = document.getElementById('video');\n            // console.log(mediaPlayer);\n            mediaPlayer.controls = false;\n            var seekBar = document.getElementById(\"seek-bar\");\n            var playbtn = document.getElementById('play-pause-button');\n            var mutebtn = document.getElementById('mute-button');\n            var volControl = document.getElementById('vol-control');\n            var curVol = volControl.value;\n            var fullscreen = false;\n            scope.seconds = \"0:00\";\n\n            var convert = function(seconds) {\n                seconds = Number(seconds);\n                var hours = Math.floor(seconds / 3600);\n                var minutes = Math.floor(seconds % 3600 / 60);\n                var seconds = Math.floor(seconds % 3600 % 60);\n                return ((hours > 0 ? hours + \":\" + (minutes < 10 ? \"0\" : \"\") : \"\") + minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds);\n            }\n\n            var seekBarActive = false;\n            seekBar.addEventListener(\"mousedown\", function() {\n                seekBarActive = true;\n                mediaPlayer.pause();\n            });\n            seekBar.addEventListener(\"mouseup\", function() {\n                seekBarActive = false;\n                $(\"#play-pause-button\").removeClass('fa-pause');\n                $(\"#play-pause-button\").addClass('fa-play');\n                mediaPlayer.pause();\n            });\n\n            seekBar.addEventListener(\"mousemove\", function() {\n                if (seekBarActive == true) {\n                    // Calculate the new time\n                    var time = mediaPlayer.duration * (seekBar.value / 100);\n                    // Update the video time\n                    mediaPlayer.currentTime = time;\n                }\n            });\n\n            volControl.addEventListener(\"mouseup\", function() {\n                mediaPlayer.volume = volControl.value / 100;\n                if (volControl.value > 1) {\n                    $(\"#mute-button\").removeClass('fa-volume-off');\n                    $(\"#mute-button\").addClass('fa-volume-up');\n                } else {\n                    $(\"#mute-button\").removeClass('fa-volume-up');\n                    $(\"#mute-button\").addClass('fa-volume-off');\n                }\n            })\n\n            mediaPlayer.addEventListener(\"timeupdate\", function() {\n                if (mediaPlayer.ended) {\n                    $(\"#play-pause-button\").removeClass('fa-pause');\n                    $(\"#play-pause-button\").addClass('fa-refresh');\n                }\n                // Calculate the slider value\n                var value = (100 / mediaPlayer.duration) * mediaPlayer.currentTime;\n                // Update the slider value\n                if (!seekBarActive) {\n                    seekBar.value = value;\n                }\n                scope.$apply(function() {\n                    scope.seconds = 0;\n                    scope.seconds = Math.round(mediaPlayer.currentTime);\n                    scope.seconds = convert(scope.seconds);\n                    // console.log(scope.seconds)\n                })\n            });\n\n            $('body').keyup(function(e) {\n                // if (e.keyCode == 32) { //on pressing space\n                //     scope.togglePlayPause();\n                // }\n\n                if (e.keyCode == 37) { //on pressing left arrow\n                    mediaPlayer.currentTime = mediaPlayer.currentTime - 1;\n                }\n\n                if (e.keyCode == 39) { //on pressing right arrow\n                    mediaPlayer.currentTime = mediaPlayer.currentTime + 1;\n                }\n            })\n\n            $('#player').focus(function() {\n                $('#player').keyup(function(e) {\n                    if (e.keyCode == 32) {\n                        scope.togglePlayPause();\n                    }\n                })\n            })\n\n            scope.togglePlayPause = function() {\n                if (mediaPlayer.paused || mediaPlayer.ended) {\n                    $(\"#play-pause-button\").removeClass('fa-play');\n                    $(\"#play-pause-button\").addClass('fa-pause');\n                    mediaPlayer.play();\n                } else {\n                    $(\"#play-pause-button\").removeClass('fa-pause');\n                    $(\"#play-pause-button\").addClass('fa-play');\n                    mediaPlayer.pause();\n                }\n            }\n            scope.restartPlayer = function() {\n                mediaPlayer.pause();\n                mediaPlayer.currentTime = 0;\n            };\n            scope.toggleMute = function() {\n                if (mediaPlayer.muted) {\n                    $(\"#mute-button\").removeClass('fa-volume-off');\n                    $(\"#mute-button\").addClass('fa-volume-up');\n                    mediaPlayer.muted = false;\n                    volControl.value = curVol;\n                } else {\n                    $(\"#mute-button\").removeClass('fa-volume-up');\n                    $(\"#mute-button\").addClass('fa-volume-off');\n                    curVol = volControl.value;\n                    volControl.value = 0;\n                    mediaPlayer.muted = true;\n                }\n            }\n            scope.goFullscreen = function(id) {\n                var element = document.getElementById(id);\n                if (!fullscreen) {\n                    if (element.mozRequestFullScreen) {\n                        element.mozRequestFullScreen();\n                        fullscreen = true;\n                    } else if (element.webkitRequestFullScreen) {\n                        element.webkitRequestFullScreen();\n                        fullscreen = true;\n                    }\n                    $(\"#play-pause-button\").css('font-size', '48px');\n                    $(\"#play-pause-button\").css('bottom', '0px');\n                    $(\"#fullscreen\").css('font-size', '48px');\n                    $(\"#fullscreen\").css('bottom', '0px');\n                    $(\"#play-pause-button\").css('width', '50px');\n                    $(\"#play-pause-button\").css('height', '50px');\n                    $(\"#fullscreen\").css('width', '50px');\n                    $(\"#fullscreen\").css('height', '50px');\n\n                } else {\n                    document.getElementsByTagName('video')[0].webkitExitFullScreen();\n                    fullscreen = false;\n                    $(\"#play-pause-button\").css('font-size', '24px');\n                    $(\"#play-pause-button\").css('bottom', '0px');\n                    $(\"#fullscreen\").css('font-size', '24px');\n                    $(\"#fullscreen\").css('bottom', '0px');\n                    $(\"#play-pause-button\").css('width', '25px');\n                    $(\"#play-pause-button\").css('height', '25px');\n                    $(\"#fullscreen\").css('width', '25px');\n                    $(\"#fullscreen\").css('height', '25px');\n                }\n\n            }\n\n            scope.updateSecs = function() {\n                scope.seconds = mediaPlayer.currentTime;\n            }\n        }\n    }\n})","app.controller('searchCtrl', function($scope, $stateParams, videoSrvc) {\n    $scope.getResults = function() {\n        console.log($stateParams);\n        videoSrvc.getVideoByQuery($stateParams.searchQuery).then(function(results) {\n            $scope.results = results.data;\n            $scope.resultCount = $scope.results.length;\n        });\n    }\n    $scope.getUser = function() {\n        videoSrvc.getUser().then(function(user) {\n            if (user) {\n                $scope.user = user.data;\n                $scope.user.username = $scope.user.username.charAt(0).toUpperCase() + $scope.user.username.slice(1);\n                console.log($scope.user)\n            }\n        })\n    }\n    $scope.getUser();\n    $scope.getResults();\n});","app.directive('topbar', function() {\n    return {\n        Restrict: 'E',\n        templateUrl: '../directives/topbar.html',\n    }\n})","app.controller('uploadCtrl', function($scope, $stateParams, $location, videoSrvc) {\n    $scope.getUser = function() {\n        videoSrvc.getUser().then(function(user) {\n            if (user) {\n                $scope.user = user.data;\n                $scope.user.username = $scope.user.username.charAt(0).toUpperCase() + $scope.user.username.slice(1);\n                // console.log($scope.user)\n                // $scope.getRecent()\n            }\n        })\n    }\n\n    $scope.getRecent = function() {\n        // console.log('getting recent')\n        if ($scope.user) {\n            // console.log('found user')\n            videoSrvc.getRecent($scope.user.userid).then(function(video) {\n                // console.log('most recent video is:' + video.data[0])\n                if ($scope.curFile) {\n                    videoSrvc.updateVideo(video.data[0].vidid, $scope.newTitle, $scope.newDescr).then(function() {\n                        // console.log('updated video')\n                        videoSrvc.getRecent($scope.user.userid).then(function(video) {\n                            console.log('new recent video is: ' + video.data[0])\n                            $location.url('/dashboard/video/' + video.data[0].vidid)\n                        })\n                    })\n                }\n            })\n        }\n    }\n    $scope.postFile = function() {\n        $scope.curFile = document.getElementById('file').files[0];\n        if ($scope.curFile) {\n            // console.log('We gots a file mang');\n            // console.log($scope.curFile);\n            var fd = new FormData();\n            fd.append(\"file\", $scope.curFile);\n            if ($scope.newTitle && $scope.newDescr) {\n                videoSrvc.postFile(fd).then(function() {\n                    console.log('finished uploading')\n                    $scope.getRecent()\n                })\n            }\n        }\n    }\n    $scope.getUser();\n});","app.controller('videoCtrl', function($scope, $stateParams, videoSrvc) {\n    $scope.showDetails = false;\n    $scope.getVideo = function() {\n        videoSrvc.getVideo($stateParams.id).then(function(video) {\n            $scope.curVideo = video.data[0];\n            // $scope.curVideo.vidlink = $scope.curVideo.vidlink.replace(\"../www/\", \"../\")\n            // console.log($scope.curVideo);\n        })\n    }\n    $scope.getUserById = function(id) {\n        videoSrvc.getUserById(id).then(function(user) {\n            $scope.tempuser = user.data;\n        })\n    }\n    $scope.getComments = function() {\n        videoSrvc.getComments($stateParams.id).then(function(comments) {\n            // console.log(comments.data);\n            $scope.comments = comments.data.reverse();\n            for (var i = 0; i < $scope.comments.length; i++) {\n                videoSrvc.getUserById($scope.comments[i].userid).then(function(user) {\n                    var tempuser = user.data[0];\n                    tempuser.username = tempuser.username.charAt(0).toUpperCase() + tempuser.username.slice(1);\n                    // console.log(tempuser.username);\n                    for (var i = 0; i < $scope.comments.length; i++) {\n                        if (tempuser.userid == $scope.comments[i].userid) {\n                            $scope.comments[i].username = tempuser.username;\n                            $scope.comments[i].userpic = tempuser.userpic;\n                            console.log($scope.comments[i]);\n                        }\n                    }\n\n                })\n            }\n        })\n    }\n    $scope.subComment = function(comment) {\n        if (comment) {\n            videoSrvc.sendComment(comment, $stateParams.id).then(function() {\n                $scope.getComments();\n            })\n        }\n        $scope.curComment = \"\";\n    }\n    $scope.getUser = function() {\n        videoSrvc.getUser().then(function(user) {\n            if (user) {\n                $scope.user = user.data;\n                $scope.user.username = $scope.user.username.charAt(0).toUpperCase() + $scope.user.username.slice(1);\n                // console.log($scope.user)\n            }\n        })\n    }\n    $scope.getUser();\n    $scope.getVideo();\n\n    $scope.getComments();\n});","app.service('videoSrvc', function($http) {\n    this.getVideo = function(id) {\n        console.log(id);\n        return $http({\n            method: \"Get\",\n            url: \"/video/\" + id + \"/getvideo\",\n        })\n    }\n    this.getComments = function(id) {\n        return $http({\n            method: \"Get\",\n            url: \"/video/\" + id + \"/getcomments\"\n        })\n    }\n    this.sendComment = function(comment, id) {\n        console.log(comment + \":\" + id)\n        return $http({\n            method: \"Post\",\n            url: \"/video/\" + id + \"/comments\",\n            data: {\n                comment: comment\n            }\n        });\n    }\n    this.getVideoByQuery = function(searchQuery) {\n        return $http({\n            method: \"Get\",\n            url: \"/search/searchQuery?searchQuery=\" + searchQuery\n        });\n    }\n    this.getNewest = function() {\n        return $http({\n            method: \"Get\",\n            url: \"/video/CountByDate\"\n        })\n    }\n    this.getUser = function() {\n        return $http({\n            method: \"Get\",\n            url: \"/me\"\n        })\n    }\n\n    this.getVidsByUser = function(id) {\n        return $http({\n            method: \"Get\",\n            url: \"/videos/\" + id + \"/\"\n        })\n    }\n\n    this.changeTitle = function(id, title) {\n        console.log('doing a put request on title');\n        return $http({\n            method: \"Put\",\n            url: \"/video/\" + id + \"/getvideo/title\",\n            data: {\n                title: title\n            }\n        })\n    }\n\n    this.changeDescr = function(id, descr) {\n        console.log(\"doing a put request on descr\");\n        return $http({\n            method: \"Put\",\n            url: \"/video/\" + id + \"/getvideo/descr\",\n            data: {\n                descr: descr\n            }\n        })\n    }\n    this.deleteVideo = function(id) {\n        return $http({\n            method: \"Delete\",\n            url: \"/video/\" + id + \"/getvideo\",\n        })\n    }\n    this.getUserById = function(id) {\n        return $http({\n            method: \"Get\",\n            url: \"/users/\" + id,\n        })\n    }\n\n    this.getRecent = function(id) {\n        return $http({\n            method: \"Get\",\n            url: \"/users/\" + id + \"/recent\",\n        })\n    }\n    this.postFile = function(data) {\n        return $http.post(\"/upload\", data, {\n            withCredentials: true,\n            headers: { 'Content-Type': undefined },\n            transformRequest: angular.identity\n        })\n    }\n    this.updateVideo = function(id, title, descr) {\n        return $http({\n            method: \"Put\",\n            url: \"/video/\" + id + \"/update\",\n            data: {\n                title: title,\n                descr: descr\n            }\n        })\n    }\n});"]}